---
layout: post
title: "编程应该这样教 递归形式"
description: ""
category: think
tags: [think]
---

在 2014 年的时候，我立了 [不要轻易挖坑教人编程的 flag](https://endle.github.io/2014/02/07/how-to-teach-programming/)，但现在还是拾起了这个坑。这篇文章的标题蹭了 [《线性代数应该这样学》](https://book.douban.com/subject/26886299/) 的热度，感觉有些心高气傲，更有些标题党。这篇文章整理了我的一些经验与反思，并非不刊之论，恳请读者分享各自的想法。  

#### 背景介绍
学生代号为 Ame，之前没有任何实质性的编程经验。教学的语言是 Python 3.9，使用的教材是 [Dive Into Python 3](https://diveintopython3.problemsolving.io/)。不过，教学进行了一小段，我就感觉这本教材选择的并不妥当。这本书设计的各类概念密度不低，而且仅在第五章就在讲正则表达式，有些打断整体的节奏。  

#### 原则：重思想轻语法
一般的编程教材，开篇通常都是讲述基本的语法，接下来是分支和循环结构。我想反其道而行之，在开篇尽可能的淡化语法的细节。我希望 Ame 可以学会 Think First, Then Code. 如果 Ame 写出的代码有 Syntax Error，我可以帮 Ame 改掉。但如果有了 “我随便改几行看看这次对不对” 的编程思路，未来的学习可能会事倍功半。  

#### 淡化循环
此外，很多初学者很容易写出非常不 Pythonic 的循环代码  
```
for i in range(len(data)):
    process(data[i])
```

我个人感觉，`for-loop` 并不是一个很直观的逻辑。在 C 语言里， `for` 不过是 `while` 的语法糖。我希望 Ame 的思维方式是，先有 `foreach` 的想法再去写循环操作，而非先想到 for-loop 再去尝试填空。

#### 递归式学习
我选择了 [Leetcode 70](https://leetcode.com/problems/climbing-stairs/) 求斐波那契数列作为递归式的例题。讲完这道题后，我意识到，这类递归式的教学意义比我想象的还大。

##### Ame 的自发尝试
Ame 看到这道题目后，很快地想到了一个借助排列组合求解的方法。  
1. 要跨上 n 级台阶，一共有 p 次迈一步， q 次迈两步。一定有 `p >=0`, `q >= 0`, `p + 2q = n`  
2. 对于确定的 `(p, q)`，可以使用组合数公式，求出一共有多少排列方式   
3. 枚举所有合法的 `(p, q)` 组合，求和后即为答案。  

我听到这种做法后很惊讶——在此之前，我从没想过从这个角度考虑问题。我认为这个求解方法是没有问题的，但使用 Python 求组合数对于 Ame 还有些难。我也没有在这种做法上深入下去。

##### 从后向前思考
我尝试


Ame 出自电影 [《狼的孩子雨和雪》](https://movie.douban.com/subject/7064681/)中的角色小雨。
